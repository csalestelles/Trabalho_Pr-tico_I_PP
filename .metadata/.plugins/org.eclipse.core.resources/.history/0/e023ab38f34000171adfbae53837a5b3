package BibliotecaSIS;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class RevistaDAO 
{
	public Revista revista;
	private PreparedStatement statement;
	private ResultSet resultSet;
	private String men, sql;
	public BancoDeDados bd;
	
	public RevistaDAO()
	{
		bd = new BancoDeDados();
		revista = new Revista();
	}
	
	public boolean localizar()
	{
		sql = "SELECT * FROM Revistas WHERE Nome=? AND Edicao=?";
		try
		{
			statement = bd.conexao.prepareStatement(sql);
			statement.setString(1, revista.getNome());
			statement.setInt(2, revista.getEdicao());
			resultSet = statement.executeQuery();
			resultSet.next();
			revista.setNome(resultSet.getString(2));
			revista.setTema(resultSet.getString(4));
			revista.setEditora(resultSet.getString(3));
			revista.setAno(resultSet.getInt(6));
			revista.setEdicao(resultSet.getInt(5));
			revista.setNumExemplares(resultSet.getInt(7));
			return true;
		}
		catch(SQLException e){return false;}
	}

}
